{"version":3,"sources":["unknown"],"names":[],"mappings":";;;;;;;;;;;;;;;;kBAAuB,IAAI;;sBACJ,QAAQ;;0BAEX,gBAAgB;;;;8BACZ,oBAAoB;;;;IAEtC,aAAa;YAAb,aAAa;;AACN,WADP,aAAa,GACS;QAAd,OAAO,yDAAG,EAAE;;0BADpB,aAAa;;AAEf,+BAFE,aAAa,6CAET,OAAO,EAAE;;AAEf,QAAI,CAAC,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC;AAC7C,QAAI,CAAC,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC;GAC9C;;eANG,aAAa;;WAYL,sBAAC,KAAK,EAAE,EAAE,EAAE;AACtB,0BAAO,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;KACzC;;;WAEU,qBAAC,cAAc,EAAwB,cAAc,EAAwB,EAAE,EAAE;UAAhF,cAAc,gBAAd,cAAc,GAAG,IAAI,CAAC,cAAc;;;;UAAE,cAAc,gBAAd,cAAc,GAAG,IAAI,CAAC,cAAc;;AACpF,sBAAO,cAAc,EAAE,UAAC,SAAS,EAAK;AACpC,YAAI,SAAS,EAAE;AACb,qCAnBF,aAAa,+CAmBO,cAAc,EAAE,cAAc,EAAE,EAAE,EAAE;SACvD,MAAM;AACL,kCAAQ,QAAQ,CAAC,MAAK,WAAW,CAAC,IAAI,gBAAc,cAAc,uBAAoB,CAAC;AACvF,YAAE,EAAE,CAAC;SACN;OACF,CAAC,CAAC;KACJ;;;WAEE,aAAC,EAAE,EAAE;AACN,UAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;KAChE;;;SArBgC,eAAG;AAClC,aAAO,IAAI,MAAM,OAAK,IAAI,CAAC,cAAc,OAAI,CAAC;KAC/C;;;SAVG,aAAa;;;qBAgCJ,aAAa","file":"unknown","sourcesContent":["import { exists } from 'fs';\nimport { render } from 'stylus';\n\nimport logging from '../lib/logging';\nimport CompileTask from '../lib/CompileTask';\n\nclass StylusCompile extends CompileTask {\n  constructor(options = {}) {\n    super(options);\n\n    this.sourceFilePath = options.sourceFilePath;\n    this.targetFilePath = options.targetFilePath;\n  }\n\n  get sourceFilePathMatchExpression() {\n    return new RegExp(`^${this.sourceFilePath}$`);\n  }\n\n  compileChunk(chunk, cb) {\n    render(chunk, this.options.options, cb);\n  }\n\n  compileFile(sourceFilePath = this.sourceFilePath, targetFilePath = this.targetFilePath, cb) {\n    exists(sourceFilePath, (doesExist) => {\n      if (doesExist) {\n        super.compileFile(sourceFilePath, targetFilePath, cb);\n      } else {\n        logging.taskInfo(this.constructor.name, `skipping ${sourceFilePath} (Does not exist)`);\n        cb();\n      }\n    });\n  }\n\n  run(cb) {\n    this.compileFile(this.sourceFilePath, this.targetFilePath, cb);\n  }\n}\n\nexport default StylusCompile;\n"]}