// Generated by LiveScript 1.3.1
var async, fs, rimraf, preludeLs, logging, each, map, directory, out$ = typeof exports != 'undefined' && exports || this;
async = require('async');
fs = require('fs');
rimraf = require('rimraf');
preludeLs = require('prelude-ls');
logging = require("./logging");
each = preludeLs.each, map = preludeLs.map;
out$.directory = directory = function(options, cb){
  fs.readdir(options.path, function(error, nodes){
    var paths;
    if (error) {
      return cb(error);
    }
    paths = map(function(it){
      return options.path + "/" + it;
    }, nodes);
    each(function(it){
      return logging.taskInfo(options.taskName, "`" + it + "`");
    }, paths);
    async.each(paths, rimraf, function(error){
      if (error) {
        return cb(error);
      }
      cb(null);
    });
  });
};