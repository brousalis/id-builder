{"version":3,"sources":["unknown"],"names":[],"mappings":"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","file":"unknown","sourcesContent":["'use strict';\n\nimport fs from 'fs';\n\nimport log from 'loglevel';\nimport mkdirp from 'mkdirp';\nimport rimraf from 'rimraf';\nimport { expect } from 'chai';\n\nimport webpack from '../build/../../../lib/webpack';\nimport { randomString } from '../build/../../../lib/tests';\n\nconst functionSource = `var x = function(y) { return y * 2; };`;\n\ndescribe('webpack', function() {\n  beforeEach(function(cb) {\n    this.directoryPath = '.tmp/' + Math.random().toString(36).slice(7);\n\n    mkdirp(this.directoryPath, cb);\n  });\n\n  afterEach(function(cb) {\n    rimraf(this.directoryPath, cb);\n  });\n\n  //const matchesTargetPath = function(options, path) {\n  //  return path === `${options.path}/${options.filename}`;\n  //};\n  describe('matchesTargetPath', function() {\n    describe('when the `path` is the `targetPath`', function() {\n      it('should return `true`', function(cb) {\n        const options = {\n          path: 'x',\n          filename: 'y.js'\n        };\n\n        expect(webpack.matchesTargetPath(options, 'x/y.js')).to.equal(true);\n\n        cb();\n      });\n    });\n\n    describe('when the `path` is not the `targetPath`', function() {\n      it('should return `false`', function(cb) {\n        const options = {\n          path: 'x',\n          filename: 'y.js'\n        };\n\n        expect(webpack.matchesTargetPath(options, 'x/z.js')).to.equal(false);\n\n        cb();\n      });\n    });\n  });\n\n  describe('compileAllFiles', function() {\n    beforeEach(function (cb) {\n      this.sourceDirectoryPath = `${this.directoryPath}/src`;\n      this.buildDirectoryPath = `${this.directoryPath}/build`;\n\n      mkdirp(this.sourceDirectoryPath, e => {\n        if (e) { cb(e); }\n\n        mkdirp(this.buildDirectoryPath, e => {\n          if (e) { cb(e); }\n\n          cb();\n        });\n      });\n    });\n\n    describe('when compiling one source file with valid ES6', function() {\n      it('should compile one build file that matches the expected output', function(cb) {\n        const options = {\n          context: this.directoryPath,\n          entry: `${this.sourceDirectoryPath}/entry.js`,\n\n          output: {\n            filename: 'target.js',\n            path: `${this.buildDirectoryPath}`\n          }\n        };\n\n        const chunk = functionSource;\n\n        fs.writeFile(options.entry, chunk, e => {\n          if (e) { cb(e); }\n\n          webpack.compileAllFiles({ options: options }, e => {\n            if (e) { cb(e); }\n\n            fs.readFile(`${options.output.path}/${options.output.filename}`, cb);\n          });\n        });\n      });\n    });\n  });\n\n  describe('watch', function() {\n  });\n});\n"]}